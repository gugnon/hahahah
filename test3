getgenv().Vanity = {
    ["Main"] = {
        ["Key"] = "Poptart",
    },
}

local function checkKey(key)
    local pastebinUrl = "https://pastebin.com/raw/22QEtmZ8"
    local response = syn.request({
        Url = pastebinUrl,
        Method = "GET"
    })
    
    if response.Success then
        local content = response.Body
        if string.find(content, key) then
            return true
        else
            return false
        end
    else
        return false
    end
end

local keyExists = checkKey(getgenv().Vanity.Main.Key)

if keyExists then
   loadstring(game:HttpGet("https://raw.githubusercontent.com/Leavinbodys/Vanity-Comps/main/vanity%20unwl.lua"))()  
else
    game.Players.LocalPlayer:Kick("You are not whitelisted")
end
